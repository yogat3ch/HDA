%%
%% Author: Thomas Schouten
%% 21-10-2017
%%

% Preamble
\documentclass{article}

% Test requiring some non-standard packages

\usepackage[dutch]{babel} % May be necessary to delete auxiliary files after changing.
\usepackage[fleqn]{amsmath} % left align equations option
\usepackage{amsthm} % proof environments
\usepackage{amssymb} % some symbols like probability P, or real number R
\usepackage{mathtools} % improvement over amsmath, like \coloneqq
\usepackage{enumerate} % numbered list
\usepackage{enumitem} % Provides [resume] option for enumerate
\usepackage{thmtools} % define custom to prove environments
\usepackage{stmaryrd} % \lightning

\usepackage{xcolor} % colors
\usepackage{pdfpages} % to include external pdfs
\usepackage{centernot} % \centernot \implies looks correct
\usepackage{tikz} % Used for drawings
\usepackage{imakeidx} % Used for index
\usepackage[makeroom]{cancel} % to draw a diagonal line through formulas
\usepackage{hyperref} % should make index clickable
\usepackage{bookmark} % Used for pdf bookmarks, needs to be loaded AFTER hyperref
\usepackage{pgfplots} % Drawings!
\usepackage{bm} % bold math, \bm{}
\usepackage{listings} % to include code with env. lstlisting
\usepackage{graphicx} % to use \includegraphics
\usepackage{booktabs} % Better spacing for tables
\usepackage{polynom} % Polynomial long division
\usepackage{multirow} % Improvements to table layout


\usepackage{marvosym} % Extra math symbols
\usepackage{amsfonts} % An extended set of math fonts
%\usepackage{fancyhdr} % Nicer page headers/footers. WARNING clashes with exam class!
\usepackage{ulem} % Provides an \ul (underline) command which will break over line ends
\usepackage{iflang}
\usepackage[margin=8em]{geometry} % Adjust page margins
\usepackage[default,osfigures]{opensans} % Open Sans typeface
\usepackage{algorithm} % Algorithm environment
\usepackage[noend]{algpseudocode} % Layout for algorithmicx package
\usepackage{chngcntr} % Customise table/figure counters

% Copy of local file C:/Program Files/SageMath 8.1/runtime/opt/sagemath-8.1/local/share/texmf/tex/latex/sagetex/sagetex.sty
% Not per se machine-independent.
\usepackage{sagetex}

% Use: run LaTeX, run 'sage myfile.sagetex.sage' in Sage shell, run LaTeX again.

% To typeset output in latex for sagecommandline environment
\renewcommand{\sagecommandlinetextoutput}{False}

\makeindex

% Document
\begin{document}

    Hello!
    This is a new release $\lightning$. \index{lightning}

    \input{chapter1}

    They said~\cite{book1}.

    \begin{sagecommandline}
        sage: r,B = var('r,B')
        sage: f = (x*r*B)/((1-x)^2 * (1-x*r))
        sage: f.partial_fraction(x)
    \end{sagecommandline}

    Sage can compute $1+1=\sage{1+1}$.

    \begin{sagesilent}
        q = 1000000000001209
        p = 4*q+1
        sk_b = 32395235; pk_a = 423570969118299
        h = mod(sk_b * pk_a, p)
        cipher = 3752138087151167
    \end{sagesilent}

    Hidden message in $\sage{mod(h^-1 * cipher, p)}$.

    \bibliography{somebooks}
    \bibliographystyle{plain}

    \printindex

\end{document}